Before:
  let g:md_link_testing_env = 1
  unlet! g:md_link_heading
  unlet! b:md_link_heading
  unlet! b:md_link_heading_before
  unlet! b:md_link_skip_line
After:
  unlet g:md_link_testing_env
  unlet! g:md_link_heading
  unlet! b:md_link_heading
  unlet! b:md_link_heading_before
  unlet! b:md_link_skip_line

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Execute (Delete two links):
  edit resources/gitcommit_deleted.gitcommit
  let b:md_link_heading = 'Links:'

  call mdlink#Delete()

  let expected_msg = '2 links have been deleted from the reference section'
  let actual_msg = split( execute('messages'), '\n' )[-1]
  AssertEqual expected_msg, actual_msg

  " Link [0] shouldn't be present anymore in the buffer
  call cursor(1, 1)
  let line_nr_label_0 = search('\V[0]', 'cnW')
  AssertEqual 0, line_nr_label_0

  " Link [3] shouldn't be present anymore in the buffer
  call cursor(1, 1)
  let line_nr_label_3 = search('\V[3]', 'cnW')
  AssertEqual 0, line_nr_label_3
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
